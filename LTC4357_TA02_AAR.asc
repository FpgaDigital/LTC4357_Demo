Version 4
SHEET 1 1160 1440
WIRE 112 -256 -96 -256
WIRE 352 -256 208 -256
WIRE 128 -176 128 -208
WIRE 128 -176 0 -176
WIRE -96 -96 -96 -256
WIRE 112 -96 -96 -96
WIRE 352 -96 352 -256
WIRE 352 -96 208 -96
WIRE 0 0 0 -176
WIRE 128 0 128 -48
WIRE 128 0 0 0
WIRE -384 64 -432 64
WIRE -256 64 -384 64
WIRE -96 64 -96 -96
WIRE -96 64 -256 64
WIRE 112 64 -96 64
WIRE 304 64 208 64
WIRE 352 64 352 -96
WIRE 352 64 304 64
WIRE 400 64 352 64
WIRE 720 64 400 64
WIRE -432 160 -432 64
WIRE -256 160 -256 64
WIRE 400 160 400 64
WIRE 0 176 0 0
WIRE 128 176 128 112
WIRE 128 176 0 176
WIRE 128 224 128 176
WIRE -432 240 -432 224
WIRE -256 240 -256 224
WIRE 400 256 400 224
WIRE -96 288 -96 64
WIRE 0 288 -96 288
WIRE 304 288 304 64
WIRE 304 288 256 288
WIRE 304 384 304 368
WIRE 304 384 256 384
WIRE 128 464 128 448
WIRE 304 496 304 384
WIRE 320 496 304 496
WIRE 400 496 384 496
WIRE 96 640 -112 640
WIRE 336 640 192 640
WIRE 112 720 112 688
WIRE 112 720 -16 720
WIRE -112 800 -112 640
WIRE 96 800 -112 800
WIRE 336 800 336 640
WIRE 336 800 192 800
WIRE 720 800 720 64
WIRE 720 800 336 800
WIRE -16 896 -16 720
WIRE 112 896 112 848
WIRE 112 896 -16 896
WIRE -400 960 -448 960
WIRE -272 960 -400 960
WIRE -112 960 -112 800
WIRE -112 960 -272 960
WIRE 96 960 -112 960
WIRE 288 960 192 960
WIRE 336 960 336 800
WIRE 336 960 288 960
WIRE -448 992 -448 960
WIRE -272 1056 -272 960
WIRE -16 1072 -16 896
WIRE 112 1072 112 1008
WIRE 112 1072 -16 1072
WIRE 112 1120 112 1072
WIRE -448 1136 -448 1072
WIRE -272 1136 -272 1120
WIRE -112 1184 -112 960
WIRE -16 1184 -112 1184
WIRE 288 1184 288 960
WIRE 288 1184 240 1184
WIRE 288 1280 288 1264
WIRE 288 1280 240 1280
WIRE 112 1360 112 1344
WIRE 288 1392 288 1280
WIRE 304 1392 288 1392
WIRE 384 1392 368 1392
FLAG 128 464 0
FLAG -256 240 0
FLAG 400 496 0
FLAG 304 64 OUT
FLAG 400 256 0
FLAG -432 240 0
FLAG 112 1360 0
FLAG -272 1136 0
FLAG 384 1392 0
FLAG -448 1136 0
FLAG -384 64 IN1
FLAG -400 960 IN2
SYMBOL LTC4357 128 336 R0
SYMATTR InstName U1
SYMBOL nmos 208 112 M270
WINDOW 0 55 46 VTop 2
WINDOW 3 -13 73 VLeft 2
SYMATTR InstName Q1
SYMATTR Value FDB3682
SYMBOL zener -272 224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BZX84C15L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 320 512 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL cap 384 160 R0
WINDOW 3 38 33 Left 2
WINDOW 39 24 58 Left 2
WINDOW 40 24 82 Left 2
SYMATTR Value 4
SYMATTR SpiceLine Rser=.1
SYMATTR SpiceLine2 Rpar=10
SYMATTR InstName Cload
SYMBOL diode -448 224 M180
WINDOW 0 30 57 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName U2
SYMATTR Value PhotoCell
SYMATTR Prefix X
SYMBOL nmos 208 -48 M270
WINDOW 0 55 46 VTop 2
WINDOW 3 -13 73 VLeft 2
SYMATTR InstName Q2
SYMATTR Value FDB3682
SYMBOL nmos 208 -208 M270
WINDOW 0 55 46 VTop 2
WINDOW 3 -13 73 VLeft 2
SYMATTR InstName Q3
SYMATTR Value FDB3682
SYMBOL LTC4357 112 1232 R0
SYMATTR InstName U3
SYMBOL nmos 192 1008 M270
WINDOW 0 55 46 VTop 2
WINDOW 3 -13 73 VLeft 2
SYMATTR InstName Q4
SYMATTR Value FDB3682
SYMBOL zener -288 1120 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value BZX84C15L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 304 1408 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL nmos 192 848 M270
WINDOW 0 55 46 VTop 2
WINDOW 3 -13 73 VLeft 2
SYMATTR InstName Q5
SYMATTR Value FDB3682
SYMBOL nmos 192 688 M270
WINDOW 0 55 46 VTop 2
WINDOW 3 -13 73 VLeft 2
SYMATTR InstName Q6
SYMATTR Value FDB3682
SYMBOL res 288 272 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL res 272 1168 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL voltage -448 976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMATTR SpiceLine Rser=0.001
TEXT -480 648 Left 2 !.tran 20
TEXT 432 56 Bottom 3 ;Battery
TEXT -456 288 Left 1 !.subckt PhotoCell B A\nC1 A B 1n\nV1 N001 B PWL 0 0 120n 14\nD1 N001 A S2\nR1 A N001 75\n.model S2 D(Ron=.1 Ilimit=5.1 epsilon=.5)\n.ends
CIRCLE Normal 332 68 548 332 2
